# åç«¯

åç«¯ä½¿ç”¨ Serverless Function å®ç°

#### æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨ val towm

1. åˆ° [val town](https://www.val.town/) æ³¨å†Œè´¦å·

2. åˆ›å»ºä¸€ä¸ª HTTP handler
![HTTP handler](./images/http-handler.png)

3. å°† [api/val-town.js](api/val-town.js) ä¸­çš„ä»£ç å¤åˆ¶åˆ°æ­¤å¤„

![copy-code](./images/copy-code.png)

4. ï¼ˆå¯é€‰ï¼‰æ·»åŠ  `uid` env

![val-town-env](./images/val-town-env.png)

#### æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ vercel

**åæ§½ï¼š** ä¸€å¼€å§‹æ˜¯ä»¥ vercel çš„ [Edge Function](https://vercel.com/docs/functions/edge-functions) ä¸ºå¹³å°è¿›è¡Œå¼€å‘çš„ï¼Œç»“æœåŸºæœ¬åŠŸèƒ½éƒ½å¼€å‘å®Œäº†ï¼Œéƒ¨ç½²æµ‹è¯•æ—¶å‘ç° vercel åŸŸåè¢«å¢™äº†ï¼Œæ°”æ™•äº† ğŸ˜¡ğŸ˜¡ğŸ˜¡ã€‚

éœ€è¦è‡ªå·±æƒ³åŠæ³•è§£å†³ vercel åŸŸåè¢«å¢™çš„é—®é¢˜

1. fork æœ¬é¡¹ç›®ï¼Œå¹¶åœ¨ vercel ä¸­å¯¼å…¥

2. æ„å»ºé…ç½®ï¼Œå¹¶ç‚¹å‡» Deploy

![vercel-configure](./images/vercel/configure.png)

3. æ£€æŸ¥æ„å»ºè®°å½•ä¸­æ˜¯å¦æ³¨å†Œäº† Functions

![alt text](./images/vercel/image.png)

![alt text](./images/vercel/image-1.png)

![alt text](./images/vercel/image-2.png)

4. å¦‚æœæ„å»ºè®°å½•ä¸­æ²¡æœ‰ Functionsï¼Œåˆ™æ˜¯éƒ¨ç½²èµ„æºçš„æ ¹ç›®å½•å‡ºäº†é—®é¢˜ ï¼ˆå¦‚æœæœ‰ Functionsï¼Œç›´æ¥è·³è¿‡è¿™ä¸€æ­¥ï¼‰

![alt text](./images/vercel/image-3.png)

![alt text](./images/vercel/image-4.png)

![alt text](./images/vercel/image-5.png)

![alt text](./images/vercel/image-6.png)

![alt text](./images/vercel/image-7.png)

**æ³¨æ„ï¼š** vercel çš„æ¥å£éœ€è¦åŠ ä¸Š `/api` è·¯å¾„ï¼Œä¾‹å¦‚ï¼š`https://xxxx.vercel.app/api`
